<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<!-- syntaxhighlighter.qdoc -->
  <title>Qt 4.7: Syntax Highlighter Example</title>
  <link rel="stylesheet" type="text/css" href="style/style.css" />
  <script src="scripts/jquery.js" type="text/javascript"></script>
  <script src="scripts/functions.js" type="text/javascript"></script>
</head>
<body class="offline narrow creator">
 <div class="header" id="qtdocheader">
    <div class="content"> 
    <div id="nav-logo">
      <a href="index.html">Home</a></div>
    <a href="index.html" class="qtref"><span>Qt Reference Documentation</span></a>
		<div id="narrowsearch"><form onsubmit="return false;" action="" id="qtdocsearch">
		<fieldset>
		<input type="text" value="" id="pageType2" name="searchstring"/>
		 </fieldset>
		</form></div>
    <div id="nav-topright">
      <ul>
        <li class="nav-topright-home"><a href="http://qt.nokia.com/">Qt HOME</a></li>
        <li class="nav-topright-dev"><a href="http://developer.qt.nokia.com/">DEV</a></li>
        <li class="nav-topright-labs"><a href="http://labs.qt.nokia.com/blogs/">LABS</a></li>
        <li class="nav-topright-doc nav-topright-doc-active"><a href="http://doc.qt.nokia.com/">
          DOC</a></li>
        <li class="nav-topright-blog"><a href="http://blog.qt.nokia.com/">BLOG</a></li>
      </ul>
    </div>
    <div id="shortCut">
      <ul>
        <li class="shortCut-topleft-inactive"><span><a href="index.html">Qt 4.7</a></span></li>
        <li class="shortCut-topleft-active"><a href="http://qt.nokia.com/doc/">ALL VERSIONS        </a></li>
      </ul>
     </div>
 <ul class="sf-menu sf-js-enabled sf-shadow" id="narrowmenu"> 
		 <li><a href="#">API Lookup</a> 
			 <ul id="topmenuLook"> 
			   <li><a href="classes.html">Class index</a></li> 
 			  <li><a href="functions.html">Function index</a></li> 
			   <li><a href="modules.html">Modules</a></li> 
			   <li><a href="namespaces.html">Namespaces</a></li> 
			   <li><a href="qtglobal.html">Global stuff</a></li> 
			   <li><a href="qdeclarativeelements.html">QML elements</a></li> 
			   </ul> 
		 </li> 
		 <li><a href="#">Qt Topics</a> 
			 <ul id="topmenuTopic"> 
			   <li><a href="qt-basic-concepts.html">Basic Qt architecture</a></li> 
			   <li><a href="qtquick.html">Device UI's &amp; Qt Quick</a></li> 
			   <li><a href="qt-gui-concepts.html">Desktop UI components</a></li> 
			   <li><a href="platform-specific.html">Platform-specific info</a></li> 
			   <li><a href="best-practices.html">How-To's and Best Practices</a></li> 
			 </ul> 
		</li> 
		 <li><a href="#">Examples</a> 
			 <ul id="topmenuexample"> 
				 <li><a href="all-examples.html">Examples</a></li> 
				 <li><a href="tutorials.html">Tutorials</a></li> 
				 <li><a href="demos.html">Demos</a></li> 
				 <li><a href="qdeclarativeexamples.html">QML Examples</a></li> 
			 </ul> 
		 </li> 
 </ul> 
    </div>
  </div>
  <div class="wrapper">
    <div class="hd">
      <span></span>
    </div>
    <div class="bd group">
      <div class="sidebar">
        <div class="searchlabel">
          Search index:</div>
        <div class="search">
          <form id="qtdocsearch" action="" onsubmit="return false;">
            <fieldset>
              <input type="text" name="searchstring" id="pageType" value="" />
            </fieldset>
          </form>
        </div>
        <div class="box first bottombar" id="lookup">
          <h2 title="API Lookup"><span></span>
            API Lookup</h2>
          <div  id="list001" class="list">
          <ul id="ul001" >
              <li class="defaultLink"><a href="classes.html">Class index</a></li>
              <li class="defaultLink"><a href="functions.html">Function index</a></li>
              <li class="defaultLink"><a href="modules.html">Modules</a></li>
              <li class="defaultLink"><a href="namespaces.html">Namespaces</a></li>
              <li class="defaultLink"><a href="qtglobal.html">Global stuff</a></li>
              <li class="defaultLink"><a href="qdeclarativeelements.html">QML elements</a></li>
            </ul> 
          </div>
        </div>
        <div class="box bottombar" id="topics">
          <h2 title="Qt Topics"><span></span>
            Qt Topics</h2>
          <div id="list002" class="list">
            <ul id="ul002" >
              <li class="defaultLink"><a href="qt-basic-concepts.html">Basic Qt architecture</a></li>
              <li class="defaultLink"><a href="qtquick.html">Device UI's &amp; Qt Quick</a></li>
              <li class="defaultLink"><a href="qt-gui-concepts.html">Desktop UI components</a></li>
              <li class="defaultLink"><a href="platform-specific.html">Platform-specific info</a></li>
            </ul>  
          </div>
        </div>
        <div class="box" id="examples">
          <h2 title="Examples"><span></span>
            Examples</h2>
          <div id="list003" class="list">
        <ul id="ul003">
              <li class="defaultLink"><a href="all-examples.html">Examples</a></li>
              <li class="defaultLink"><a href="tutorials.html">Tutorials</a></li>
              <li class="defaultLink"><a href="demos.html">Demos</a></li>
              <li class="defaultLink"><a href="qdeclarativeexamples.html">QML Examples</a></li>
            </ul> 
          </div>
        </div>
      </div>
      <div class="wrap">
        <div class="toolbar">
          <div class="breadcrumb toolblock">
            <ul>
              <li class="first"><a href="index.html">Home</a></li>
              <!--  Bread crumbs goes here -->
              <li><a href="all-examples.html">Examples</a></li>              <li><a href="examples-richtext.html">Rich Text Examples</a></li>              <li>Syntax Highlighter Example</li>            </ul>
          </div>
          <div class="toolbuttons toolblock">
            <ul>
              <li id="smallA" class="t_button">A</li>
              <li id="medA" class="t_button active">A</li>
              <li id="bigA" class="t_button">A</li>
              <li id="print" class="t_button"><a href="javascript:this.print();">
                <span>Print</span></a></li>
            </ul>
          </div>
        </div>
        <div class="content">
<div class="toc">
<h3><a name="toc">Contents</a></h3>
<ul>
<li class="level1"><a href="#highlighter-class-definition">Highlighter Class Definition</a></li>
<li class="level1"><a href="#highlighter-class-implementation">Highlighter Class Implementation</a></li>
<li class="level1"><a href="#mainwindow-class-definition">MainWindow Class Definition</a></li>
<li class="level1"><a href="#mainwindow-class-implementation">MainWindow Class Implementation</a></li>
</ul>
</div>
<h1 class="title">Syntax Highlighter Example</h1>
<span class="subtitle"></span>
<!-- $$$richtext/syntaxhighlighter-description -->
<div class="descr"> <a name="details"></a>
<p>Files:</p>
<ul>
<li><a href="richtext-syntaxhighlighter-highlighter-cpp.html">richtext/syntaxhighlighter/highlighter.cpp</a></li>
<li><a href="richtext-syntaxhighlighter-highlighter-h.html">richtext/syntaxhighlighter/highlighter.h</a></li>
<li><a href="richtext-syntaxhighlighter-mainwindow-cpp.html">richtext/syntaxhighlighter/mainwindow.cpp</a></li>
<li><a href="richtext-syntaxhighlighter-mainwindow-h.html">richtext/syntaxhighlighter/mainwindow.h</a></li>
<li><a href="richtext-syntaxhighlighter-main-cpp.html">richtext/syntaxhighlighter/main.cpp</a></li>
<li><a href="richtext-syntaxhighlighter-syntaxhighlighter-pro.html">richtext/syntaxhighlighter/syntaxhighlighter.pro</a></li>
</ul>
<p>The Syntax Highlighter example shows how to perform simple syntax highlighting by subclassing the <a href="qsyntaxhighlighter.html">QSyntaxHighlighter</a> class.</p>
<p class="centerAlign"><img src="images/syntaxhighlighter-example.png" /></p><p>The Syntax Highlighter application displays C++ files with custom syntax highlighting.</p>
<p>The example consists of two classes:</p>
<ul>
<li>The <tt>Highlighter</tt> class defines and applies the highlighting rules.</li>
<li>The <tt>MainWindow</tt> widget is the application's main window.</li>
</ul>
<p>We will first review the <tt>Highlighter</tt> class to see how you can customize the <a href="qsyntaxhighlighter.html">QSyntaxHighlighter</a> class to fit your preferences, then we will take a look at the relevant parts of the <tt>MainWindow</tt> class to see how you can use your custom highlighter class in an application.</p>
<a name="highlighter-class-definition"></a>
<h2>Highlighter Class Definition</h2>
<pre class="highlightedCode brush: cpp"> class Highlighter : public QSyntaxHighlighter
 {
     Q_OBJECT

 public:
     Highlighter(QTextDocument *parent = 0);

 protected:
     void highlightBlock(const QString &amp;text);

 private:
     struct HighlightingRule
     {
         QRegExp pattern;
         QTextCharFormat format;
     };
     QVector&lt;HighlightingRule&gt; highlightingRules;

     QRegExp commentStartExpression;
     QRegExp commentEndExpression;

     QTextCharFormat keywordFormat;
     QTextCharFormat classFormat;
     QTextCharFormat singleLineCommentFormat;
     QTextCharFormat multiLineCommentFormat;
     QTextCharFormat quotationFormat;
     QTextCharFormat functionFormat;
 };</pre>
<p>To provide your own syntax highlighting, you must subclass <a href="qsyntaxhighlighter.html">QSyntaxHighlighter</a>, reimplement the <a href="qsyntaxhighlighter.html#highlightBlock">highlightBlock()</a> function, and define your own highlighting rules.</p>
<p>We have chosen to store our highlighting rules using a private struct: A rule consists of a <a href="qregexp.html">QRegExp</a> pattern and a <a href="qtextcharformat.html">QTextCharFormat</a> instance. The various rules are then stored using a <a href="qvector.html">QVector</a>.</p>
<p>The <a href="qtextcharformat.html">QTextCharFormat</a> class provides formatting information for characters in a <a href="qtextdocument.html">QTextDocument</a> specifying the visual properties of the text, as well as information about its role in a hypertext document. In this example, we will only define the font weight and color using the <a href="qtextcharformat.html#setFontWeight">QTextCharFormat::setFontWeight</a>() and <a href="qtextformat.html#setForeground">QTextCharFormat::setForeground</a>() functions.</p>
<a name="highlighter-class-implementation"></a>
<h2>Highlighter Class Implementation</h2>
<p>When subclassing the <a href="qsyntaxhighlighter.html">QSyntaxHighlighter</a> class you must pass the parent parameter to the base class constructor. The parent is the text document upon which the syntax highligning will be applied. In this example, we have also chosen to define our highlighting rules in the constructor:</p>
<pre class="highlightedCode brush: cpp"> Highlighter::Highlighter(QTextDocument *parent)
     : QSyntaxHighlighter(parent)
 {
     HighlightingRule rule;

     keywordFormat.setForeground(Qt::darkBlue);
     keywordFormat.setFontWeight(QFont::Bold);
     QStringList keywordPatterns;
     keywordPatterns &lt;&lt; &quot;\\bchar\\b&quot; &lt;&lt; &quot;\\bclass\\b&quot; &lt;&lt; &quot;\\bconst\\b&quot;
                     &lt;&lt; &quot;\\bdouble\\b&quot; &lt;&lt; &quot;\\benum\\b&quot; &lt;&lt; &quot;\\bexplicit\\b&quot;
                     &lt;&lt; &quot;\\bfriend\\b&quot; &lt;&lt; &quot;\\binline\\b&quot; &lt;&lt; &quot;\\bint\\b&quot;
                     &lt;&lt; &quot;\\blong\\b&quot; &lt;&lt; &quot;\\bnamespace\\b&quot; &lt;&lt; &quot;\\boperator\\b&quot;
                     &lt;&lt; &quot;\\bprivate\\b&quot; &lt;&lt; &quot;\\bprotected\\b&quot; &lt;&lt; &quot;\\bpublic\\b&quot;
                     &lt;&lt; &quot;\\bshort\\b&quot; &lt;&lt; &quot;\\bsignals\\b&quot; &lt;&lt; &quot;\\bsigned\\b&quot;
                     &lt;&lt; &quot;\\bslots\\b&quot; &lt;&lt; &quot;\\bstatic\\b&quot; &lt;&lt; &quot;\\bstruct\\b&quot;
                     &lt;&lt; &quot;\\btemplate\\b&quot; &lt;&lt; &quot;\\btypedef\\b&quot; &lt;&lt; &quot;\\btypename\\b&quot;
                     &lt;&lt; &quot;\\bunion\\b&quot; &lt;&lt; &quot;\\bunsigned\\b&quot; &lt;&lt; &quot;\\bvirtual\\b&quot;
                     &lt;&lt; &quot;\\bvoid\\b&quot; &lt;&lt; &quot;\\bvolatile\\b&quot;;
     foreach (const QString &amp;pattern, keywordPatterns) {
         rule.pattern = QRegExp(pattern);
         rule.format = keywordFormat;
         highlightingRules.append(rule);
     }</pre>
<p>First we define a keyword rule which recognizes the most common C++ keywords. We give the <tt>keywordFormat</tt> a bold, dark blue font. For each keyword, we assign the keyword and the specified format to a HighlightingRule object and append the object to our list of rules.</p>
<pre class="highlightedCode brush: cpp">     classFormat.setFontWeight(QFont::Bold);
     classFormat.setForeground(Qt::darkMagenta);
     rule.pattern = QRegExp(&quot;\\bQ[A-Za-z]+\\b&quot;);
     rule.format = classFormat;
     highlightingRules.append(rule);

     quotationFormat.setForeground(Qt::darkGreen);
     rule.pattern = QRegExp(&quot;\&quot;.*\&quot;&quot;);
     rule.format = quotationFormat;
     highlightingRules.append(rule);

     functionFormat.setFontItalic(true);
     functionFormat.setForeground(Qt::blue);
     rule.pattern = QRegExp(&quot;\\b[A-Za-z0-9_]+(?=\\()&quot;);
     rule.format = functionFormat;
     highlightingRules.append(rule);</pre>
<p>Then we create a format that we will apply to Qt class names. The class names will be rendered with a dark magenta color and a bold style. We specify a string pattern that is actually a regular expression capturing all Qt class names. Then we assign the regular expression and the specified format to a HighlightingRule object and append the object to our list of rules.</p>
<p>We also define highlighting rules for quotations and functions using the same approach: The patterns have the form of regular expressions and are stored in HighlightingRule objects with the associated format.</p>
<pre class="highlightedCode brush: cpp">     singleLineCommentFormat.setForeground(Qt::red);
     rule.pattern = QRegExp(&quot;<span class="comment">//[^\n]*&quot;);</span>
     rule.format = singleLineCommentFormat;
     highlightingRules.append(rule);

     multiLineCommentFormat.setForeground(Qt::red);

     commentStartExpression = QRegExp(&quot;/\\*&quot;);
     commentEndExpression = QRegExp(&quot;\\*/&quot;);
 }</pre>
<p>The C++ language has two variations of comments: The single line comment (<tt>//</tt>) and the multiline comment (<tt>/*...</tt><tt>*/</tt>). The single line comment can easily be defined through a highlighting rule similar to the previous ones. But the multiline comment needs special care due to the design of the <a href="qsyntaxhighlighter.html">QSyntaxHighlighter</a> class.</p>
<p>After a <a href="qsyntaxhighlighter.html">QSyntaxHighlighter</a> object is created, its <a href="qsyntaxhighlighter.html#highlightBlock">highlightBlock()</a> function will be called automatically whenever it is necessary by the rich text engine, highlighting the given text block. The problem appears when a comment spans several text blocks. We will take a closer look at how this problem can be solved when reviewing the implementation of the <tt>Highlighter::highlightBlock()</tt> function. At this point we only specify the multiline comment's color.</p>
<pre class="highlightedCode brush: cpp"> void Highlighter::highlightBlock(const QString &amp;text)
 {
     foreach (const HighlightingRule &amp;rule, highlightingRules) {
         QRegExp expression(rule.pattern);
         int index = expression.indexIn(text);
         while (index &gt;= 0) {
             int length = expression.matchedLength();
             setFormat(index, length, rule.format);
             index = expression.indexIn(text, index + length);
         }
     }</pre>
<p>The highlightBlock() function is called automatically whenever it is necessary by the rich text engine, i.e&#x2e; when there are text blocks that have changed.</p>
<p>First we apply the syntax highlighting rules that we stored in the <tt>highlightingRules</tt> vector. For each rule (i.e&#x2e; for each HighlightingRule object) we search for the pattern in the given textblock using the <a href="qstring.html#indexOf">QString::indexOf</a>() function. When the first occurrence of the pattern is found, we use the <a href="qregexp.html#matchedLength">QRegExp::matchedLength</a>() function to determine the string that will be formatted. <a href="qregexp.html#matchedLength">QRegExp::matchedLength</a>() returns the length of the last matched string, or -1 if there was no match.</p>
<p>To perform the actual formatting the <a href="qsyntaxhighlighter.html">QSyntaxHighlighter</a> class provides the <a href="qsyntaxhighlighter.html#setFormat">setFormat()</a> function. This function operates on the text block that is passed as argument to the <tt>highlightBlock()</tt> function. The specified format is applied to the text from the given start position for the given length. The formatting properties set in the given format are merged at display time with the formatting information stored directly in the document. Note that the document itself remains unmodified by the format set through this function.</p>
<p>This process is repeated until the last occurrence of the pattern in the current text block is found.</p>
<pre class="highlightedCode brush: cpp">     setCurrentBlockState(0);</pre>
<p>To deal with constructs that can span several text blocks (like the C++ multiline comment), it is necessary to know the end state of the previous text block (e.g&#x2e; &quot;in comment&quot;). Inside your <tt>highlightBlock()</tt> implementation you can query the end state of the previous text block using the <a href="qsyntaxhighlighter.html#previousBlockState">QSyntaxHighlighter::previousBlockState</a>() function. After parsing the block you can save the last state using <a href="qsyntaxhighlighter.html#setCurrentBlockState">QSyntaxHighlighter::setCurrentBlockState</a>().</p>
<p>The <a href="qsyntaxhighlighter.html#previousBlockState">previousBlockState()</a> function return an int value. If no state is set, the returned value is -1. You can designate any other value to identify any given state using the <a href="qsyntaxhighlighter.html#setCurrentBlockState">setCurrentBlockState()</a> function. Once the state is set, the <a href="qtextblock.html">QTextBlock</a> keeps that value until it is set again or until the corresponding paragraph of text is deleted.</p>
<p>In this example we have chosen to use 0 to represent the &quot;not in comment&quot; state, and 1 for the &quot;in comment&quot; state. When the stored syntax highlighting rules are applied we initialize the current block state to 0.</p>
<pre class="highlightedCode brush: cpp">     int startIndex = 0;
     if (previousBlockState() != 1)
         startIndex = commentStartExpression.indexIn(text);</pre>
<p>If the previous block state was &quot;in comment&quot; (<tt>previousBlockState() == 1</tt>), we start the search for an end expression at the beginning of the text block. If the previousBlockState() returns 0, we start the search at the location of the first occurrence of a start expression.</p>
<pre class="highlightedCode brush: cpp">     while (startIndex &gt;= 0) {
         int endIndex = commentEndExpression.indexIn(text, startIndex);
         int commentLength;
         if (endIndex == -1) {
             setCurrentBlockState(1);
             commentLength = text.length() - startIndex;
         } else {
             commentLength = endIndex - startIndex
                             + commentEndExpression.matchedLength();
         }
         setFormat(startIndex, commentLength, multiLineCommentFormat);
         startIndex = commentStartExpression.indexIn(text, startIndex + commentLength);
     }
 }</pre>
<p>When an end expression is found, we calculate the length of the comment and apply the multiline comment format. Then we search for the next occurrence of the start expression and repeat the process. If no end expression can be found in the current text block we set the current block state to 1, i.e&#x2e; &quot;in comment&quot;.</p>
<p>This completes the <tt>Highlighter</tt> class implementation; it is now ready for use.</p>
<a name="mainwindow-class-definition"></a>
<h2>MainWindow Class Definition</h2>
<p>Using a <a href="qsyntaxhighlighter.html">QSyntaxHighlighter</a> subclass is simple; just provide your application with an instance of the class and pass it the document upon which you want the highlighting to be applied.</p>
<pre class="highlightedCode brush: cpp"> class MainWindow : public QMainWindow
 {
     Q_OBJECT

 public:
     MainWindow(QWidget *parent = 0);

 public slots:
     void about();
     void newFile();
     void openFile(const QString &amp;path = QString());

 private:
     void setupEditor();
     void setupFileMenu();
     void setupHelpMenu();

     QTextEdit *editor;
     Highlighter *highlighter;
 };</pre>
<p>In this example we declare a pointer to a <tt>Highlighter</tt> instance which we later will initialize in the private <tt>setupEditor()</tt> function.</p>
<a name="mainwindow-class-implementation"></a>
<h2>MainWindow Class Implementation</h2>
<p>The constructor of the main window is straight forward. We first set up the menus, then we initialize the editor and make it the central widget of the application. Finally we set the main window's title.</p>
<pre class="highlightedCode brush: cpp"> MainWindow::MainWindow(QWidget *parent)
     : QMainWindow(parent)
 {
     setupFileMenu();
     setupHelpMenu();
     setupEditor();

     setCentralWidget(editor);
     setWindowTitle(tr(&quot;Syntax Highlighter&quot;));
 }</pre>
<p>We initialize and install the <tt>Highlighter</tt> object in the private setupEditor() convenience function:</p>
<pre class="highlightedCode brush: cpp"> void MainWindow::setupEditor()
 {
     QFont font;
     font.setFamily(&quot;Courier&quot;);
     font.setFixedPitch(true);
     font.setPointSize(10);

     editor = new QTextEdit;
     editor-&gt;setFont(font);

     highlighter = new Highlighter(editor-&gt;document());

     QFile file(&quot;mainwindow.h&quot;);
     if (file.open(QFile::ReadOnly | QFile::Text))
         editor-&gt;setPlainText(file.readAll());
 }</pre>
<p>First we create the font we want to use in the editor, then we create the editor itself which is an instance of the <a href="qtextedit.html">QTextEdit</a> class. Before we initialize the editor with the <tt>MainWindow</tt> class definition file, we create a <tt>Highlighter</tt> instance passing the editor's document as argument. This is the document that the highlighting will be applied to. Then we are done.</p>
<p>A <a href="qsyntaxhighlighter.html">QSyntaxHighlighter</a> object can only be installed on one document at the time, but you can easily reinstall the highlighter on another document using the <a href="qsyntaxhighlighter.html#setDocument">QSyntaxHighlighter::setDocument</a>() function. The <a href="qsyntaxhighlighter.html">QSyntaxHighlighter</a> class also provides the <a href="qsyntaxhighlighter.html#document">document()</a> function which returns the currently set document.</p>
</div>
<!-- @@@richtext/syntaxhighlighter -->
        <!-- /div -->
        <div class="feedback t_button">
          [+] Documentation Feedback</div>
      </div>
    </div>
    <div class="ft">
      <span></span>
    </div>
  </div> 
  <div class="footer">
    <p>
      <acronym title="Copyright">&copy;</acronym> 2008-2010 Nokia Corporation and/or its
      subsidiaries. Nokia, Qt and their respective logos are trademarks of Nokia Corporation 
      in Finland and/or other countries worldwide.</p>
    <p>
      All other trademarks are property of their respective owners. <a title="Privacy Policy"
        href="http://qt.nokia.com/about/privacy-policy">Privacy Policy</a></p>
  </div>
  <div id="feedbackBox">
      <div id="feedcloseX" class="feedclose t_button">X</div>
    <form id="feedform" action="http://doc.qt.nokia.com/docFeedbck/feedback.php" method="get">
      <p id="noteHead">Thank you for giving your feedback. <div class="note">Make sure it is related to this specific page. For more general bugs and 
      requests, please use the <a href="http://bugreports.qt.nokia.com/secure/Dashboard.jspa">Qt Bug Tracker</a>.</div></p>
      <p><textarea id="feedbox" name="feedText" rows="5" cols="40"></textarea></p>
      <p><input id="feedsubmit" class="feedclose" type="submit" name="feedback" /></p>
    </form>
  </div>
  <div id="blurpage">
  </div>
  <!--/div -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-4457116-5']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</body>
</html>
