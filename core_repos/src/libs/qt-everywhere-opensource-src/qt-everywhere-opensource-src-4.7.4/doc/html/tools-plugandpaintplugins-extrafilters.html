<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<!-- plugandpaint.qdoc -->
  <title>Qt 4.7: Plug &amp; Paint Extra Filters Example</title>
  <link rel="stylesheet" type="text/css" href="style/offline.css" />
</head>
<body>
<div class="header" id="qtdocheader">
  <div class="content"> 
    <a href="index.html" class="qtref"><span>Qt Reference Documentation</span></a>
  </div>
  <div class="breadcrumb toolblock">
    <ul>
      <li class="first"><a href="index.html">Home</a></li>
      <!--  Breadcrumbs go here -->
<li><a href="all-examples.html">Examples</a></li>
<li>Plug &amp;amp; Paint Extra Filters Example</li>
    </ul>
  </div>
</div>
<div class="content mainContent">
<h1 class="title">Plug &amp; Paint Extra Filters Example</h1>
<span class="subtitle"></span>
<!-- $$$tools/plugandpaintplugins/extrafilters-description -->
<div class="descr"> <a name="details"></a>
<p>Files:</p>
<ul>
<li><a href="tools-plugandpaintplugins-extrafilters-extrafiltersplugin-cpp.html">tools/plugandpaintplugins/extrafilters/extrafiltersplugin.cpp</a></li>
<li><a href="tools-plugandpaintplugins-extrafilters-extrafiltersplugin-h.html">tools/plugandpaintplugins/extrafilters/extrafiltersplugin.h</a></li>
<li><a href="tools-plugandpaintplugins-extrafilters-extrafilters-pro.html">tools/plugandpaintplugins/extrafilters/extrafilters.pro</a></li>
</ul>
<p>The Extra Filters example is a plugin for the <a href="tools-plugandpaint.html">Plug &amp; Paint</a> example. It provides a set of filters in addition to those provided by the <a href="tools-plugandpaintplugins-basictools.html">Basic Tools</a> plugin.</p>
<p>Since the approach is identical to <a href="tools-plugandpaintplugins-basictools.html">Basic Tools</a>, we won't review the code here. The only part of interest is the <tt>.pro</tt> file, since Extra Filters is a dynamic plugin (<a href="tools-plugandpaintplugins-basictools.html">Basic Tools</a> is linked statically into the Plug &amp; Paint executable).</p>
<p>Here's the project file for building the Extra Filters plugin:</p>
<pre class="cpp"> TEMPLATE      = lib
 CONFIG       += plugin
 INCLUDEPATH  += ../..
 HEADERS       = extrafiltersplugin.h
 SOURCES       = extrafiltersplugin.cpp
 TARGET        = $$qtLibraryTarget(pnp_extrafilters)
 DESTDIR       = ../../plugandpaint/plugins</pre>
<p>The <tt>.pro</tt> file differs from typical <tt>.pro</tt> files in many respects. First, it starts with a <tt>TEMPLATE</tt> entry specifying <tt>lib</tt>. (The default template is <tt>app</tt>.) It also adds <tt>plugin</tt> to the <tt>CONFIG</tt> variable. This is necessary on some platforms to avoid generating symbolic links with version numbers in the file name, which is appropriate for most dynamic libraries but not for plugins.</p>
<p>The <tt>INCLUDEPATH</tt> variable sets the search paths for global headers (i.e&#x2e;, header files included using <tt>#include &lt;..&#x2e;&gt;</tt>). We add Qt's <tt>examples/tools</tt> directory (strictly speaking, <tt>examples/tools/plugandpaintplugins/basictools/../&#x2e;.</tt>) to the list, so that we can include <tt>&lt;plugandpaint/interfaces.h&gt;</tt>.</p>
<p>The <tt>TARGET</tt> variable specifies which name we want to give the target library. We use <tt>pnp_</tt> as the prefix to show that the plugin is designed to work with Plug &amp; Paint. On Unix, <tt>lib</tt> is also prepended to that name. On all platforms, a platform-specific suffix is appended (e.g&#x2e;, <tt>.dll</tt> on Windows, <tt>.so</tt> on Linux).</p>
<p>The <tt>DESTDIR</tt> variable specifies where we want to install the plugin. We put it in Plug &amp; Paint's <tt>plugins</tt> subdirectory, since that's where the application looks for dynamic plugins.</p>
<p>The <tt>CONFIG()</tt> code at the end is necessary for this example because the example is part of the Qt distribution and Qt can be configured to be built simultaneously in debug and in release modes. You don't need to for your own plugins.</p>
</div>
<!-- @@@tools/plugandpaintplugins/extrafilters -->
  <div class="ft">
    <span></span>
  </div>
</div> 
<div class="footer">
  <p>
     <acronym title="Copyright">&copy;</acronym> 2008-2011 Nokia Corporation and/or its
     subsidiaries. Nokia, Qt and their respective logos are trademarks of Nokia Corporation 
     in Finland and/or other countries worldwide.</p>
  <p>
     All other trademarks are property of their respective owners. <a title="Privacy Policy"
     href="http://qt.nokia.com/about/privacy-policy">Privacy Policy</a></p>
  <br />
  <p>
    Licensees holding valid Qt Commercial licenses may use this document in accordance with the    Qt Commercial License Agreement provided with the Software or, alternatively, in accordance    with the terms contained in a written agreement between you and Nokia.</p>
  <p>
    Alternatively, this document may be used under the terms of the <a href="http://www.gnu.org/licenses/fdl.html">GNU
    Free Documentation License version 1.3</a>
    as published by the Free Software Foundation.</p>
</div>
</body>
</html>
