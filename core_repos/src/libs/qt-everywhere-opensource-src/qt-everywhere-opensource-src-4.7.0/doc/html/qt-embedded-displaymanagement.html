<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en_US" lang="en_US">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<!-- emb-displaymanagement.qdoc -->
  <title>Qt 4.7: Qt for Embedded Linux Display Management</title>
  <link rel="stylesheet" type="text/css" href="style/style.css" />
  <script src="scripts/jquery.js" type="text/javascript"></script>
  <script src="scripts/functions.js" type="text/javascript"></script>
</head>
<body class="offline narrow creator">
 <div class="header" id="qtdocheader">
    <div class="content"> 
    <div id="nav-logo">
      <a href="index.html">Home</a></div>
    <a href="index.html" class="qtref"><span>Qt Reference Documentation</span></a>
		<div id="narrowsearch"><form onsubmit="return false;" action="" id="qtdocsearch">
		<fieldset>
		<input type="text" value="" id="pageType2" name="searchstring"/>
		 </fieldset>
		</form></div>
    <div id="nav-topright">
      <ul>
        <li class="nav-topright-home"><a href="http://qt.nokia.com/">Qt HOME</a></li>
        <li class="nav-topright-dev"><a href="http://developer.qt.nokia.com/">DEV</a></li>
        <li class="nav-topright-labs"><a href="http://labs.qt.nokia.com/blogs/">LABS</a></li>
        <li class="nav-topright-doc nav-topright-doc-active"><a href="http://doc.qt.nokia.com/">
          DOC</a></li>
        <li class="nav-topright-blog"><a href="http://blog.qt.nokia.com/">BLOG</a></li>
      </ul>
    </div>
    <div id="shortCut">
      <ul>
        <li class="shortCut-topleft-inactive"><span><a href="index.html">Qt 4.7</a></span></li>
        <li class="shortCut-topleft-active"><a href="http://qt.nokia.com/doc/">ALL VERSIONS        </a></li>
      </ul>
     </div>
 <ul class="sf-menu sf-js-enabled sf-shadow" id="narrowmenu"> 
		 <li><a href="#">API Lookup</a> 
			 <ul id="topmenuLook"> 
			   <li><a href="classes.html">Class index</a></li> 
 			  <li><a href="functions.html">Function index</a></li> 
			   <li><a href="modules.html">Modules</a></li> 
			   <li><a href="namespaces.html">Namespaces</a></li> 
			   <li><a href="qtglobal.html">Global stuff</a></li> 
			   <li><a href="qdeclarativeelements.html">QML elements</a></li> 
			   </ul> 
		 </li> 
		 <li><a href="#">Qt Topics</a> 
			 <ul id="topmenuTopic"> 
			   <li><a href="qt-basic-concepts.html">Basic Qt architecture</a></li> 
			   <li><a href="qtquick.html">Device UI's &amp; Qt Quick</a></li> 
			   <li><a href="qt-gui-concepts.html">Desktop UI components</a></li> 
			   <li><a href="platform-specific.html">Platform-specific info</a></li> 
			   <li><a href="best-practices.html">How-To's and Best Practices</a></li> 
			 </ul> 
		</li> 
		 <li><a href="#">Examples</a> 
			 <ul id="topmenuexample"> 
				 <li><a href="all-examples.html">Examples</a></li> 
				 <li><a href="tutorials.html">Tutorials</a></li> 
				 <li><a href="demos.html">Demos</a></li> 
				 <li><a href="qdeclarativeexamples.html">QML Examples</a></li> 
			 </ul> 
		 </li> 
 </ul> 
    </div>
  </div>
  <div class="wrapper">
    <div class="hd">
      <span></span>
    </div>
    <div class="bd group">
      <div class="sidebar">
        <div class="searchlabel">
          Search index:</div>
        <div class="search">
          <form id="qtdocsearch" action="" onsubmit="return false;">
            <fieldset>
              <input type="text" name="searchstring" id="pageType" value="" />
            </fieldset>
          </form>
        </div>
        <div class="box first bottombar" id="lookup">
          <h2 title="API Lookup"><span></span>
            API Lookup</h2>
          <div  id="list001" class="list">
          <ul id="ul001" >
              <li class="defaultLink"><a href="classes.html">Class index</a></li>
              <li class="defaultLink"><a href="functions.html">Function index</a></li>
              <li class="defaultLink"><a href="modules.html">Modules</a></li>
              <li class="defaultLink"><a href="namespaces.html">Namespaces</a></li>
              <li class="defaultLink"><a href="qtglobal.html">Global stuff</a></li>
              <li class="defaultLink"><a href="qdeclarativeelements.html">QML elements</a></li>
            </ul> 
          </div>
        </div>
        <div class="box bottombar" id="topics">
          <h2 title="Qt Topics"><span></span>
            Qt Topics</h2>
          <div id="list002" class="list">
            <ul id="ul002" >
              <li class="defaultLink"><a href="qt-basic-concepts.html">Basic Qt architecture</a></li>
              <li class="defaultLink"><a href="qtquick.html">Device UI's &amp; Qt Quick</a></li>
              <li class="defaultLink"><a href="qt-gui-concepts.html">Desktop UI components</a></li>
              <li class="defaultLink"><a href="platform-specific.html">Platform-specific info</a></li>
            </ul>  
          </div>
        </div>
        <div class="box" id="examples">
          <h2 title="Examples"><span></span>
            Examples</h2>
          <div id="list003" class="list">
        <ul id="ul003">
              <li class="defaultLink"><a href="all-examples.html">Examples</a></li>
              <li class="defaultLink"><a href="tutorials.html">Tutorials</a></li>
              <li class="defaultLink"><a href="demos.html">Demos</a></li>
              <li class="defaultLink"><a href="qdeclarativeexamples.html">QML Examples</a></li>
            </ul> 
          </div>
        </div>
      </div>
      <div class="wrap">
        <div class="toolbar">
          <div class="breadcrumb toolblock">
            <ul>
              <li class="first"><a href="index.html">Home</a></li>
              <!--  Bread crumbs goes here -->
              <li>Qt for Embedded Linux Display Management</li>            </ul>
          </div>
          <div class="toolbuttons toolblock">
            <ul>
              <li id="smallA" class="t_button">A</li>
              <li id="medA" class="t_button active">A</li>
              <li id="bigA" class="t_button">A</li>
              <li id="print" class="t_button"><a href="javascript:this.print();">
                <span>Print</span></a></li>
            </ul>
          </div>
        </div>
        <div class="content">
<div class="toc">
<h3><a name="toc">Contents</a></h3>
<ul>
<li class="level1"><a href="#available-drivers">Available Drivers</a></li>
<li class="level1"><a href="#specifying-a-driver">Specifying a Driver</a></li>
<li class="level1"><a href="#subdrivers-and-multiple-drivers">Subdrivers and Multiple Drivers</a></li>
</ul>
</div>
<h1 class="title">Qt for Embedded Linux Display Management</h1>
<span class="subtitle"></span>
<!-- $$$qt-embedded-displaymanagement.html-description -->
<div class="descr"> <a name="details"></a>
<p>When rendering, the default behavior for each Qt for Embedded Linux client is to render its widgets into memory, while the server is responsible for putting the contents of the memory onto the screen. The server uses the screen driver to copy the content of the memory to the display.</p>
<p>The screen driver is loaded by the server application when it starts running, using Qt's <a href="plugins-howto.html">plugin system</a>.</p>
<p>Contents:</p>
<a name="available-drivers"></a>
<h2>Available Drivers</h2>
<p><a href="qt-embedded-linux.html">Qt for Embedded Linux</a> provides drivers for the Linux framebuffer, the virtual framebuffer, transformed screens, VNC servers and multi screens. Run the <tt>configure</tt> script to list the available drivers:</p>
<pre class="highlightedCode brush: cpp"> ./configure -help</pre>
<p>In the default Qt configuration, only an unaccelerated Linux framebuffer driver (<tt>/dev/fb0</tt>) is enabled. The various drivers can be enabled and disabled using the <tt>configure</tt> script. For example:</p>
<pre class="highlightedCode brush: cpp"> ./configure -qt-gfx-transformed</pre>
<p>Custom screen drivers can be implemented by subclassing the <a href="qscreen.html">QScreen</a> class and creating a screen driver plugin (derived from the <a href="qscreendriverplugin.html">QScreenDriverPlugin</a> class). The default implementation of the <a href="qscreendriverfactory.html">QScreenDriverFactory</a> class will automatically detect the plugin, loading the driver into the server application at run-time.</p>
<a name="specifying-a-driver"></a>
<h2>Specifying a Driver</h2>
<p>To specify which driver to use, set the <a href="qt-embedded-envvars.html#qws-display">QWS_DISPLAY</a> environment variable. For example (if the current shell is bash, ksh, zsh or sh):</p>
<pre class="highlightedCode brush: cpp"> export QWS_DISPLAY=&quot;&lt;driver&gt;[:&lt;driver specific options&gt;]...
          [:&lt;display num&gt;]&quot;</pre>
<p>The valid values for the <tt>&lt;driver&gt;</tt> argument are <tt>LinuxFb</tt>, <tt>QVFb</tt>, <tt>VNC</tt>, <tt>Transformed</tt>, <tt>Multi</tt> and <a href="qscreendriverplugin.html#keys">keys</a> identifying custom drivers, and the <tt>&lt;display num&gt;</tt> argument is used to separate screens that are using the same screen driver and to enable multiple displays (see the <a href="qt-embedded-running.html">Running Qt for Embedded Linux Applications</a> documentation for more details). The driver specific options are described in the table below.</p>
<table class="generic">
<thead><tr class="qt-style topAlign"><th >Driver Specific Option</th><th >Available For</th><th >Description</th></tr></thead>
<tr class="odd topAlign"><td ><p><tt>tty=&lt;device&gt;</tt></p></td><td ><p>LinuxFb</p></td><td ><p>Passes the device file to the console the application is running on.</p></td></tr>
<tr class="even topAlign"><td ><p><tt>nographicsmodeswitch</tt></p></td><td ><p>LinuxFb</p></td><td ><p>Ensures that the application is not in graphics mode.</p></td></tr>
<tr class="odd topAlign"><td ><p><tt>littleendian</tt></p></td><td ><p>LinuxFb</p></td><td ><p>Tells the driver it must handle a little-endian frame buffer in a big-endian system.</p></td></tr>
<tr class="even topAlign"><td ><p><tt>mmWidth=&lt;value&gt;</tt> <a name="mmwidth"></a></p></td><td ><p>LinuxFb, QVFb</p></td><td ><p>The screen's physical width (used to calculate DPI).</p></td></tr>
<tr class="odd topAlign"><td ><p><tt>mmHeight=&lt;value&gt;</tt> <a name="mmheight"></a></p></td><td ><p>LinuxFb, QVFb</p></td><td ><p>The screen's physical height (used to calculate DPI).</p></td></tr>
<tr class="even topAlign"><td ><p><tt>&lt;device&gt;</tt></p></td><td ><p>LinuxFb</p></td><td ><p></p></td></tr>
<tr class="odd topAlign"><td ><p><tt>&lt;subdriver&gt;</tt></p></td><td ><p>VNC, Transformed, Multi</p></td><td ><p>Specifies a subdriver.</p></td></tr>
<tr class="even topAlign"><td ><p><tt>&lt;RotX&gt;</tt></p></td><td ><p>Transformed</p></td><td ><p>Specifies the rotation of the screen. The valid values of <tt>X</tt> are 90, 180 and 270.</p></td></tr>
<tr class="odd topAlign"><td ><p><tt>offset=&lt;x,y&gt;</tt></p></td><td ><p>Multi</p></td><td ><p>Specifies the coordinates of a subscreen's top-left corner (by default 0,0).</p></td></tr>
</table>
<p>The <a href="qt-embedded-envvars.html#qws-display">QWS_DISPLAY</a> environment variable can also be set using the <tt>-display</tt> option when running an application. For example:</p>
<pre class="highlightedCode brush: cpp"> myApplication -display &quot;&lt;driver&gt;[:&lt;driver specific options&gt;]...
          [:&lt;display num&gt;]&quot;</pre>
<a name="subdrivers-and-multiple-drivers"></a>
<h2>Subdrivers and Multiple Drivers</h2>
<p>The VNC, Transformed and Multi screen drivers depend on subdrivers. The general syntax for specifying a driver is as follows:</p>
<pre class="highlightedCode brush: cpp"> export QWS_DISPLAY=&quot;&lt;driver&gt;[:&lt;subdriver&gt;][:&lt;subdriver options&gt;]...
         [ :&lt;display num&gt;]&quot;</pre>
<p>In the case of subdrivers, it is important to add a space between each subdriver and before the display number to separate the various drivers and displays. Note that <tt>Multi</tt> screen drivers can have several subdrivers. For example:</p>
<pre class="highlightedCode brush: cpp"> export QWS_DISPLAY=&quot;Multi: QVFb:0 QVFb:offset=640,0:1 :2&quot;</pre>
<p>Note also that the VNC screen driver defaults to a virtual screen driver if no subdriver is specified. In this case the VNC driver accepts a few additional (optional) arguments specifying the size and depth of the default virtual screen:</p>
<ul>
<li><tt>size=&lt;width x height&gt;</tt></li>
<li><tt>depth=&lt;value&gt;</tt></li>
<li><tt>mmHeight=&lt;physical height in millimeters&gt;</tt></li>
<li><tt>mmWidth=&lt;physical width in millimeters&gt;</tt></li>
</ul>
<p>Example running the VNC screen driver with a virtual screen of size 720x480 with 32 bits per pixel:</p>
<pre class="highlightedCode brush: cpp"> export QWS_DISPLAY=&quot;VNC:size=720x480:depth=32&quot;</pre>
<p>Example running the VNC screen driver on top of the Linux framebuffer driver:</p>
<pre class="highlightedCode brush: cpp"> export QWS_DISPLAY=&quot;VNC:LinuxFb&quot;</pre>
<p>In this last example, Qt is using two screen drivers simultaneously, displaying output on both the device's screen and across a network on VNC client displays.</p>
</div>
<!-- @@@qt-embedded-displaymanagement.html -->
        <!-- /div -->
        <div class="feedback t_button">
          [+] Documentation Feedback</div>
      </div>
    </div>
    <div class="ft">
      <span></span>
    </div>
  </div> 
  <div class="footer">
    <p>
      <acronym title="Copyright">&copy;</acronym> 2008-2010 Nokia Corporation and/or its
      subsidiaries. Nokia, Qt and their respective logos are trademarks of Nokia Corporation 
      in Finland and/or other countries worldwide.</p>
    <p>
      All other trademarks are property of their respective owners. <a title="Privacy Policy"
        href="http://qt.nokia.com/about/privacy-policy">Privacy Policy</a></p>
  </div>
  <div id="feedbackBox">
      <div id="feedcloseX" class="feedclose t_button">X</div>
    <form id="feedform" action="http://doc.qt.nokia.com/docFeedbck/feedback.php" method="get">
      <p id="noteHead">Thank you for giving your feedback. <div class="note">Make sure it is related to this specific page. For more general bugs and 
      requests, please use the <a href="http://bugreports.qt.nokia.com/secure/Dashboard.jspa">Qt Bug Tracker</a>.</div></p>
      <p><textarea id="feedbox" name="feedText" rows="5" cols="40"></textarea></p>
      <p><input id="feedsubmit" class="feedclose" type="submit" name="feedback" /></p>
    </form>
  </div>
  <div id="blurpage">
  </div>
  <!--/div -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-4457116-5']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</body>
</html>
